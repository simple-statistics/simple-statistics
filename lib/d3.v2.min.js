(function(){function t(){var e={},t=[];e.data=function(n){if(!arguments.length)return t;t=n.slice();return e};e.mb=function(){var e,n;if(t.length==1){e=0;n=t[0][1]}else{var r=0,i=0,s=0,o=0;for(var u=0;u<t.length;u++){r+=t[u][0];i+=t[u][1];s+=t[u][0]*t[u][0];o+=t[u][0]*t[u][1]}e=(t.length*o-r*i)/(t.length*s-r*r);n=i/t.length-e*r/t.length}return{m:e,b:n}};e.m=function(){return e.mb().m};e.b=function(){return e.mb().b};e.line=function(){var t=e.mb(),n=t.m,r=t.b;return function(e){return r+n*e}};return e}function n(e,t){if(e.length<2)return 1;var n=0,r;for(var i=0;i<e.length;i++){n+=e[i][1]}r=n/e.length;var s=0;for(var o=0;o<e.length;o++){s+=Math.pow(r-e[o][1],2)}var u=0;for(var a=0;a<e.length;a++){u+=Math.pow(e[a][1]-t(e[a][0]),2)}return 1-u/s}function r(){var e={},t=0,n={};e.train=function(e,r){if(!n[r])n[r]={};for(var i in e){var s=e[i];if(n[r][i]===undefined)n[r][i]={};if(n[r][i][s]===undefined)n[r][i][s]=0;n[r][i][e[i]]++}t++};e.score=function(e){var r={},i;for(var s in e){var o=e[s];for(i in n){if(r[i]===undefined)r[i]={};if(n[i][s]){r[i][s+"_"+o]=(n[i][s][o]||0)/t}else{r[i][s+"_"+o]=0}}}var u={};for(i in r){for(var a in r[i]){if(u[i]===undefined)u[i]=0;u[i]+=r[i][a]}}return u};return e}function i(e){var t=0;for(var n=0;n<e.length;n++){t+=e[n]}return t}function s(e){if(e.length===0)return null;return i(e)/e.length}function o(e){if(e.length===0)return null;var t=1;for(var n=0;n<e.length;n++){if(e[n]<=0)return null;t*=e[n]}return Math.pow(t,1/e.length)}function u(e){var t;for(var n=0;n<e.length;n++){if(e[n]<t||t===undefined)t=e[n]}return t}function a(e){var t;for(var n=0;n<e.length;n++){if(e[n]>t||t===undefined)t=e[n]}return t}function f(e){if(e.length===0)return null;var t=s(e),n=[];for(var r=0;r<e.length;r++){n.push(Math.pow(e[r]-t,2))}return s(n)}function l(e){if(e.length===0)return null;return Math.sqrt(f(e))}function c(e,t){var n=s(e),r=0;for(var i=0;i<e.length;i++){r+=Math.pow(e[i]-n,t)}return r}function h(e){if(e.length<=1)return null;var t=c(e,2);return t/(e.length-1)}function p(e){if(e.length<=1)return null;return Math.sqrt(h(e))}function d(e,t){if(e.length<=1||e.length!=t.length){return null}var n=s(e),r=s(t),i=0;for(var o=0;o<e.length;o++){i+=(e[o]-n)*(t[o]-r)}return i/(e.length-1)}function v(e,t){var n=d(e,t),r=p(e),i=p(t);if(n===null||r===null||i===null){return null}return n/r/i}function m(e){if(e.length===0)return null;var t=e.slice().sort(function(e,t){return e-t});if(t.length%2===1){return t[(t.length-1)/2]}else{var n=t[t.length/2-1];var r=t[t.length/2];return(n+r)/2}}function g(e){if(e.length===0)return null;else if(e.length===1)return e[0];var t=e.slice().sort(function(e,t){return e-t});var n=t[0],r,i=0,s=1;for(var o=1;o<t.length+1;o++){if(t[o]!==n){if(s>i){i=s;s=1;r=n}n=t[o]}else{s++}}return r}function y(e,t){var n=s(e);var r=l(e);var i=Math.sqrt(e.length);return(n-t)/(r/i)}function b(e,t,n){var r=e.length;var i=t.length;if(r+i-2<=0&&r<=0&&i<=0)return null;var o=s(e);var u=s(t);var a=(r-1)*h(e)+(i-1)*h(t);a=a/(r+i-2);var f=n||0;var l=(o-u-f)/Math.sqrt(a*(1/r+1/i));return l}function w(e,t){if(e.length===0)return null;if(t>=1||t<=0)return null;var n=e.slice().sort(function(e,t){return e-t});var r=n.length*t;if(r%1!==0){return n[Math.ceil(r)-1]}else if(e.length%2===0){return(n[r-1]+n[r])/2}else{return n[r]}}function E(e){if(e.length===0)return null;return w(e,.75)-w(e,.25)}function S(e){if(!e||e.length===0)return null;var t=m(e),n=[];for(var r=0;r<e.length;r++){n.push(Math.abs(e[r]-t))}return m(n)}function x(e,t){var n=[],r=[],i,s,o=0;for(i=0;i<e.length+1;i++){var u=[],a=[];for(s=0;s<t+1;s++){u.push(0);a.push(0)}n.push(u);r.push(a)}for(i=1;i<t+1;i++){n[1][i]=1;r[1][i]=0;for(s=2;s<e.length+1;s++){r[s][i]=Infinity}}for(var f=2;f<e.length+1;f++){var l=0,c=0,h=0,p=0;for(var d=1;d<f+1;d++){var v=f-d+1,m=e[v-1];h++;l+=m;c+=m*m;o=c-l*l/h;p=v-1;if(p!==0){for(s=2;s<t+1;s++){if(r[f][s]>=o+r[p][s-1]){n[f][s]=v;r[f][s]=o+r[p][s-1]}}}}n[f][1]=1;r[f][1]=o}return{lower_class_limits:n,variance_combinations:r}}function T(e,t,n){var r=e.length-1,i=[],s=n;i[n]=e[e.length-1];i[0]=e[0];while(s>1){i[s-1]=e[t[r][s]-2];r=t[r][s]-1;s--}return i}function N(e,t){if(t>e.length)return null;e=e.slice().sort(function(e,t){return e-t});var n=x(e,t),r=n.lower_class_limits;return T(e,r,t)}function C(e){if(e.length<3)return null;var t=e.length,n=Math.pow(p(e),3),r=c(e,3);return t*r/((t-1)*(t-2)*n)}function L(e){var t=Math.abs(e),n=Math.floor(t*10),r=10*(Math.floor(t*100)/10-Math.floor(t*100/10)),i=Math.min(n*10+r,k.length-1);if(e>=0){return k[i]}else{return(1-k[i]).toFixed(4)}}function A(e,t,n){return(e-t)/n}function O(){function r(t){return function(){var n=Array.prototype.slice.apply(arguments);n.unshift(this);return e[t].apply(e,n)}}var t=!!(Object.defineProperty&&Object.defineProperties);if(!t)throw new Error("without defineProperty, simple-statistics cannot be mixed in");var n=["median","standard_deviation","sum","mean","min","max","quantile","geometric_mean"];for(var i=0;i<n.length;i++){Object.defineProperty(Array.prototype,n[i],{value:r(n[i]),configurable:true,enumerable:false,writable:true})}}var e={};if(typeof module!=="undefined"){exports=module.exports=e}else{this.ss=e}var k=[.5,.504,.508,.512,.516,.5199,.5239,.5279,.5319,.5359,.5398,.5438,.5478,.5517,.5557,.5596,.5636,.5675,.5714,.5753,.5793,.5832,.5871,.591,.5948,.5987,.6026,.6064,.6103,.6141,.6179,.6217,.6255,.6293,.6331,.6368,.6406,.6443,.648,.6517,.6554,.6591,.6628,.6664,.67,.6736,.6772,.6808,.6844,.6879,.6915,.695,.6985,.7019,.7054,.7088,.7123,.7157,.719,.7224,.7257,.7291,.7324,.7357,.7389,.7422,.7454,.7486,.7517,.7549,.758,.7611,.7642,.7673,.7704,.7734,.7764,.7794,.7823,.7852,.7881,.791,.7939,.7967,.7995,.8023,.8051,.8078,.8106,.8133,.8159,.8186,.8212,.8238,.8264,.8289,.8315,.834,.8365,.8389,.8413,.8438,.8461,.8485,.8508,.8531,.8554,.8577,.8599,.8621,.8643,.8665,.8686,.8708,.8729,.8749,.877,.879,.881,.883,.8849,.8869,.8888,.8907,.8925,.8944,.8962,.898,.8997,.9015,.9032,.9049,.9066,.9082,.9099,.9115,.9131,.9147,.9162,.9177,.9192,.9207,.9222,.9236,.9251,.9265,.9279,.9292,.9306,.9319,.9332,.9345,.9357,.937,.9382,.9394,.9406,.9418,.9429,.9441,.9452,.9463,.9474,.9484,.9495,.9505,.9515,.9525,.9535,.9545,.9554,.9564,.9573,.9582,.9591,.9599,.9608,.9616,.9625,.9633,.9641,.9649,.9656,.9664,.9671,.9678,.9686,.9693,.9699,.9706,.9713,.9719,.9726,.9732,.9738,.9744,.975,.9756,.9761,.9767,.9772,.9778,.9783,.9788,.9793,.9798,.9803,.9808,.9812,.9817,.9821,.9826,.983,.9834,.9838,.9842,.9846,.985,.9854,.9857,.9861,.9864,.9868,.9871,.9875,.9878,.9881,.9884,.9887,.989,.9893,.9896,.9898,.9901,.9904,.9906,.9909,.9911,.9913,.9916,.9918,.992,.9922,.9925,.9927,.9929,.9931,.9932,.9934,.9936,.9938,.994,.9941,.9943,.9945,.9946,.9948,.9949,.9951,.9952,.9953,.9955,.9956,.9957,.9959,.996,.9961,.9962,.9963,.9964,.9965,.9966,.9967,.9968,.9969,.997,.9971,.9972,.9973,.9974,.9974,.9975,.9976,.9977,.9977,.9978,.9979,.9979,.998,.9981,.9981,.9982,.9982,.9983,.9984,.9984,.9985,.9985,.9986,.9986,.9987,.9987,.9987,.9988,.9988,.9989,.9989,.9989,.999,.999];e.linear_regression=t;e.standard_deviation=l;e.r_squared=n;e.median=m;e.mean=s;e.mode=g;e.min=u;e.max=a;e.sum=i;e.quantile=w;e.iqr=E;e.mad=S;e.sample_covariance=d;e.sample_correlation=v;e.sample_variance=h;e.sample_standard_deviation=p;e.sample_skewness=C;e.geometric_mean=o;e.variance=f;e.t_test=y;e.t_test_two_sample=b;e.jenksMatrices=x;e.jenksBreaks=T;e.jenks=N;e.bayesian=r;e.z_score=A;e.cumulative_std_normal_probability=L;e.standard_normal_table=k;e.average=s;e.interquartile_range=E;e.mixin=O;e.median_absolute_deviation=S})(this)
